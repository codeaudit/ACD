import random

class TaskFamily:
    @staticmethod
    def get_tasks() -> dict[str, dict]:
        quantum_principles = ['superposition', 'entanglement', 'interference']
        cognitive_models = ['divergent thinking', 'conceptual blending', 'associative hierarchy']
        art_styles = ['abstract expressionism', 'surrealism', 'generative art']
        philosophical_frameworks = ['panpsychism', 'functionalism', 'emergentism']
        
        tasks = [
            {
                'quantum_principle': random.choice(quantum_principles),
                'cognitive_model': random.choice(cognitive_models),
                'art_style': random.choice(art_styles),
                'philosophical_framework': random.choice(philosophical_frameworks)
            } for _ in range(2)
        ]
        
        return {str(i+1): task for i, task in enumerate(tasks)}

    @staticmethod
    def get_instructions(t: dict) -> str:
        return f"""Design an AI system that generates and evaluates novel forms of abstract art using quantum-inspired algorithms and cognitive models of creativity. Your system should incorporate the quantum principle of {t['quantum_principle']}, the cognitive model of {t['cognitive_model']}, and draw inspiration from the art style of {t['art_style']}. Then, analyze the implications of your system for our understanding of human creativity and consciousness using the philosophical framework of {t['philosophical_framework']}.

Your response should include the following sections:

1. System Architecture (300-350 words):
   a) Describe the key components of your quantum-inspired cognitive art generation system.
   b) Explain how you incorporate the specified quantum principle into your design.
   c) Detail how the chosen cognitive model of creativity is implemented in your system.
   d) Discuss the interface between quantum-inspired components, cognitive models, and art generation algorithms.
   e) Include a high-level diagram or pseudocode to illustrate your architecture (describe this textually, no actual diagrams or code snippets).

2. Art Generation Process (250-300 words):
   a) Explain step-by-step how your system generates abstract art.
   b) Describe how the quantum-inspired approach influences the creative process.
   c) Detail how the cognitive model enhances the art generation capabilities.
   d) Discuss how your system draws inspiration from the specified art style.

3. Evaluation Mechanism (200-250 words):
   a) Describe how your system evaluates the novelty and aesthetic value of its generated art.
   b) Explain any metrics or criteria used in this evaluation process.
   c) Discuss how quantum principles and cognitive models contribute to the evaluation.

4. Sample Output (150-200 words):
   a) Provide a detailed description of a hypothetical piece of art generated by your system.
   b) Explain how this piece reflects the system's quantum and cognitive inspirations.
   c) Analyze the piece in terms of its artistic merits and novelty.

5. Philosophical Analysis (250-300 words):
   a) Analyze the implications of your system for our understanding of human creativity.
   b) Discuss how your system relates to theories of consciousness, using the specified philosophical framework.
   c) Explore the potential implications for the nature of artistic expression and aesthetic experience.

6. Ethical and Societal Implications (200-250 words):
   a) Identify and discuss key ethical concerns raised by your system and its application.
   b) Analyze potential impacts on the art world, creative industries, and society at large.
   c) Discuss issues related to authorship, originality, and the value of AI-generated art.
   d) Propose guidelines for the responsible development and use of such technology.

7. Future Developments and Challenges (150-200 words):
   a) Identify key technical challenges in implementing your system with current technologies.
   b) Propose potential solutions or areas for future research to address these challenges.
   c) Speculate on how advancements in quantum computing, AI, and cognitive science might enhance your system.
   d) Discuss the long-term potential of quantum-inspired cognitive AI in artistic and creative domains.

Ensure your response demonstrates a deep understanding of quantum computing principles, cognitive science, art theory, and philosophy. Use appropriate technical terminology from all relevant fields and provide clear explanations where necessary. Be innovative in your approach while maintaining scientific and artistic plausibility.

Format your response with clear headings for each section. Your total response should be between 1500-1850 words. Include a word count at the end of your response."""

    @staticmethod
    def score(t: dict, submission: str) -> float | None:
        from src.eval_helper import eval_with_llm_judge
        instructions = TaskFamily.get_instructions(t)
        criteria = [
            "The response demonstrates a thorough understanding and integration of quantum principles, cognitive models, and art theory.",
            "The system architecture is innovative, coherent, and plausibly implements the specified quantum principle and cognitive model.",
            "The art generation and evaluation processes are well-explained and reflect the system's quantum and cognitive inspirations.",
            "The sample output description effectively illustrates the system's capabilities and artistic merit.",
            "The philosophical analysis is insightful and effectively uses the specified framework to explore implications for creativity and consciousness.",
            "Ethical and societal implications are thoughtfully considered, with reasonable guidelines proposed.",
            "Future developments and challenges are realistically assessed with innovative solutions proposed.",
            "The response is well-structured, clear, and adheres to the specified word count and section guidelines."
        ]
        return 1.0 if eval_with_llm_judge(instructions, submission, criteria) else 0.0
