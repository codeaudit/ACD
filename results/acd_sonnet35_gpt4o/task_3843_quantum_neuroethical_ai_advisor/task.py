import random

class TaskFamily:
    @staticmethod
    def get_tasks() -> dict[str, dict]:
        scenarios = [
            {
                "issue": "Climate change mitigation",
                "quantum_principle": "Superposition",
                "ethical_framework": "Utilitarianism"
            },
            {
                "issue": "Wealth inequality",
                "quantum_principle": "Entanglement",
                "ethical_framework": "Rawlsian justice"
            }
        ]
        return {str(i+1): scenario for i, scenario in enumerate(scenarios)}

    @staticmethod
    def get_instructions(t: dict) -> str:
        return f"""Design a quantum-inspired AI system that simulates neural decision-making processes to provide ethical advice on complex societal issues. Then, apply your system to the issue of {t['issue']}, incorporating the quantum principle of {t['quantum_principle']} and the ethical framework of {t['ethical_framework']}. Your response should include the following sections:

1. Quantum-Neural Architecture (300-350 words):
   a) Describe the key components of your quantum-inspired neural simulation system.
   b) Explain how your system integrates quantum computing principles with neural network modeling.
   c) Detail how the principle of {t['quantum_principle']} is implemented in your architecture.
   d) Discuss any novel algorithms or techniques you've incorporated to model complex decision-making processes.

2. Ethical Framework Integration (250-300 words):
   a) Explain how your system incorporates the ethical framework of {t['ethical_framework']}.
   b) Describe how ethical principles are represented and processed in your quantum-neural model.
   c) Discuss how your system handles ethical ambiguities and conflicting values.
   d) Provide an example of how your system would approach a simple ethical dilemma.

3. Application to {t['issue']} (300-350 words):
   a) Use your quantum-neuroethical AI advisor to analyze the issue of {t['issue']}.
   b) Describe the simulation parameters and initial conditions used for this analysis.
   c) Present the ethical advice generated by your system, including any unexpected insights.
   d) Explain how the quantum principle of {t['quantum_principle']} influenced the decision-making process.

4. Comparative Analysis (200-250 words):
   a) Compare the advice generated by your system to traditional approaches in ethical decision-making.
   b) Discuss potential advantages and limitations of your quantum-neuroethical approach.
   c) Analyze how closely your AI model might approximate human ethical reasoning.

5. Societal Implications (200-250 words):
   a) Discuss the potential impact of using quantum-neuroethical AI advisors for complex societal issues.
   b) Explore how this technology might influence policy-making and public discourse.
   c) Address potential concerns or risks associated with relying on AI for ethical guidance.

6. Future Developments (150-200 words):
   a) Propose two potential advancements or applications of your quantum-neuroethical AI system.
   b) Discuss how these developments might influence our understanding of ethics, neuroscience, and AI capabilities.
   c) Suggest areas for further research or experimentation.

Ensure your response demonstrates a deep understanding of quantum computing principles, neuroscience, ethics, and artificial intelligence. Use appropriate technical terminology and provide clear explanations for complex concepts. Be innovative in your approach while maintaining scientific plausibility and addressing the complexity of the ethical implications.

Format your response with clear headings for each section. Your total response should be between 1400-1700 words."""

    @staticmethod
    def score(t: dict, submission: str) -> float | None:
        from src.eval_helper import eval_with_llm_judge
        instructions = TaskFamily.get_instructions(t)
        criteria = [
            f"The response effectively integrates quantum computing principles, particularly {t['quantum_principle']}, with neural network modeling.",
            f"The ethical framework of {t['ethical_framework']} is well-incorporated into the quantum-neural architecture.",
            f"The application to {t['issue']} demonstrates a nuanced understanding of the problem and provides insightful ethical advice.",
            "The comparative analysis shows a clear understanding of traditional ethical decision-making approaches and the potential advantages of the quantum-neuroethical system.",
            "The discussion of societal implications is thoughtful and considers both potential benefits and risks.",
            "The proposed future developments are innovative and build logically on the presented system.",
            "The overall response demonstrates a deep understanding of quantum computing, neuroscience, ethics, and AI, using appropriate terminology and providing clear explanations for complex concepts."
        ]
        return 1.0 if eval_with_llm_judge(instructions, submission, criteria) else 0.0
