class TaskFamily:
    @staticmethod
    def get_tasks() -> dict[str, dict]:
        tasks = {
            "1": {
                "art_period": "Renaissance",
                "neural_principle": "Mirror neuron system",
                "target_culture": "Contemporary East Asian",
                "example_artwork": "The Birth of Venus by Botticelli",
                "neural_pattern": "Increased activity in the inferior frontal gyrus and inferior parietal lobule"
            },
            "2": {
                "art_period": "Abstract Expressionism",
                "neural_principle": "Predictive coding",
                "target_culture": "Ancient Mesopotamian",
                "example_artwork": "Blue Poles by Jackson Pollock",
                "neural_pattern": "Reduced prediction error signals in the visual cortex"
            }
        }
        return tasks

    @staticmethod
    def get_instructions(t: dict) -> str:
        return f"""Design an AI system that analyzes and generates art based on principles of neuroaesthetics, then use it to explore the evolution of artistic styles from {t['art_period']} to {t['target_culture']} art. Your system should incorporate the neural principle of {t['neural_principle']}. Consider the example artwork "{t['example_artwork']}" and the associated neural pattern of {t['neural_pattern']}.

Your response should include the following sections:

1. Neuroaesthetic AI System Design (300-350 words):
   a) Describe the key components and architecture of your AI system.
   b) Explain how it integrates principles of neuroaesthetics with machine learning techniques.
   c) Detail how the system incorporates the specified neural principle in its analysis and generation of art.
   d) Discuss any novel algorithms or techniques you've developed for this integration.
   e) Include a high-level diagram of your system architecture (described textually).

2. Art Analysis Methodology (250-300 words):
   a) Explain how your system analyzes artworks from the specified art period, using the example artwork.
   b) Describe the features and characteristics it extracts and processes.
   c) Discuss how the system relates these features to neural responses and aesthetic experiences, considering the given neural pattern.
   d) Provide an example of how your system would analyze the specified example artwork.

3. Artistic Style Evolution Simulation (250-300 words):
   a) Detail how your system simulates the evolution of artistic styles from the specified art period to the target culture.
   b) Explain how it accounts for cultural, historical, and technological factors in this evolution.
   c) Describe how the system generates new artworks representing intermediate stages of this evolution.
   d) Discuss how the specified neural principle influences this evolutionary process.

4. Cross-Cultural Aesthetic Analysis (200-250 words):
   a) Explain how your system compares and contrasts the aesthetic principles of the original art period and the target culture.
   b) Describe how it identifies and analyzes universal aesthetic features across cultures.
   c) Discuss any challenges in reconciling different cultural aesthetic values within your neuroaesthetic framework.

5. Generated Artwork Evaluation (200-250 words):
   a) Propose a method for evaluating the aesthetic quality and cultural authenticity of the artworks generated by your system.
   b) Describe how you would validate your system's outputs against human-created art.
   c) Discuss potential biases in your evaluation method and how you might address them.

6. Ethical Implications and Societal Impact (150-200 words):
   a) Discuss the ethical considerations of using AI to analyze and generate art.
   b) Analyze potential impacts on human artists and the art world.
   c) Address concerns about cultural appropriation or misrepresentation in AI-generated cross-cultural art.

7. Future Directions and Applications (150-200 words):
   a) Propose two potential applications of your neuroaesthetic AI system beyond art analysis and generation.
   b) Suggest areas for future research to enhance the system's capabilities and address its limitations.
   c) Discuss how this technology might inform or change our understanding of human creativity and aesthetic experience.

8. Limitations and Challenges (150-200 words):
   a) Identify and discuss at least three potential limitations or challenges of your proposed system.
   b) Explain how these limitations might affect the system's performance or applicability.
   c) Propose potential solutions or areas of future research to address these limitations.

Ensure your response demonstrates a deep understanding of neuroscience, art history, and artificial intelligence. Use appropriate technical terminology and provide clear explanations for complex concepts. Be innovative in your approach while maintaining scientific plausibility and addressing ethical concerns.

Format your response with clear headings for each section, numbered as above. Your total response should be between 1650-2050 words."""

    @staticmethod
    def score(t: dict, submission: str) -> float | None:
        from src.eval_helper import eval_with_llm_judge
        instructions = TaskFamily.get_instructions(t)
        criteria = [
            f"The response demonstrates a deep understanding of neuroscience, art history, and artificial intelligence, particularly in relation to {t['art_period']} and {t['target_culture']} art.",
            f"The AI system design effectively incorporates the neural principle of {t['neural_principle']} in its analysis and generation of art.",
            f"The art analysis methodology appropriately considers the example artwork \"{t['example_artwork']}\" and the associated neural pattern.",
            "The proposed system provides a plausible method for simulating the evolution of artistic styles across cultures and time periods.",
            "The response addresses ethical implications and potential societal impacts of using AI in art analysis and generation.",
            "The limitations and challenges section demonstrates critical thinking about the proposed system.",
            "The ideas presented are innovative while maintaining scientific plausibility.",
            "The response is well-structured, following the outlined sections and word count guidelines."
        ]
        return 1.0 if eval_with_llm_judge(instructions, submission, criteria) else 0.0
