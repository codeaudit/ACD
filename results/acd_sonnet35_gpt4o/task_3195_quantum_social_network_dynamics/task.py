import random
import math

class TaskFamily:
    @staticmethod
    def get_tasks() -> dict[str, dict]:
        tasks = [
            {
                'quantum_principle': 'superposition',
                'social_phenomenon': 'opinion formation',
                'network_type': 'small-world network'
            },
            {
                'quantum_principle': 'entanglement',
                'social_phenomenon': 'behavior adoption',
                'network_type': 'scale-free network'
            }
        ]
        return {str(i+1): task for i, task in enumerate(tasks)}

    @staticmethod
    def get_instructions(t: dict) -> str:
        return f"""Design a quantum-inspired model to simulate and analyze the spread of information and behavior in social networks, incorporating principles from quantum computing, social psychology, and network theory. Your model should focus on the quantum principle of {t['quantum_principle']}, the social phenomenon of {t['social_phenomenon']}, and apply it to a {t['network_type']}. Your response should include:

1. Quantum-Social Model Design (300-350 words):
   a) Explain how you integrate {t['quantum_principle']} with social network dynamics.
   b) Describe the key components of your model and their interactions.
   c) Discuss how this integration provides new insights into {t['social_phenomenon']}.
   d) Provide a mathematical or conceptual representation of your model (use LaTeX formatting for equations).
   e) Include a simple pseudocode snippet illustrating a key aspect of your model.
   f) Describe a visual representation (e.g., diagram, graph) of your model or a key concept.

2. Quantum-Social Mapping (250-300 words):
   a) Detail how you map quantum concepts to social network phenomena, focusing on {t['social_phenomenon']}.
   b) Explain any novel predictions or hypotheses generated by this mapping.
   c) Discuss potential challenges or limitations in applying quantum principles to social dynamics.

3. Network Simulation (250-300 words):
   a) Describe how your model simulates {t['social_phenomenon']} in a {t['network_type']}.
   b) Explain how quantum effects influence the spread of information or behavior in the network.
   c) Discuss how your model accounts for individual and collective behavior in the network.

4. Comparative Analysis (200-250 words):
   a) Compare and contrast your quantum-inspired model with a classical approach to modeling {t['social_phenomenon']} in social networks.
   b) Highlight the key advantages and potential drawbacks of your quantum-inspired approach.
   c) Discuss how the results from your model might differ from those of classical models.

5. Empirical Validation and Limitations (200-250 words):
   a) Propose a method to test the predictions of your quantum-social network model empirically.
   b) Discuss potential real-world applications of your model.
   c) Identify and explain at least three limitations of your model and suggest ways to address them.

6. Ethical Considerations and Societal Impact (150-200 words):
   a) Discuss ethical implications of using quantum-inspired models to analyze and predict social behavior.
   b) Consider potential misuses of this technology and propose safeguards.
   c) Speculate on how this approach might influence our understanding of social dynamics and decision-making.

Ensure your response demonstrates a deep understanding of quantum computing principles, social psychology, and network theory. Use appropriate technical terminology and provide clear explanations for complex concepts. Be innovative in your approach while maintaining scientific plausibility.

Format your response with clear headings for each section. Use LaTeX formatting for any mathematical equations. Your total response should be between 1350-1650 words."""

    @staticmethod
    def score(t: dict, submission: str) -> float | None:
        from src.eval_helper import eval_with_llm_judge
        instructions = TaskFamily.get_instructions(t)
        criteria = [
            f"The response includes a detailed design of a quantum-inspired model for social network dynamics, focusing on {t['quantum_principle']} and {t['social_phenomenon']}.",
            f"The model is applied to a {t['network_type']} and demonstrates understanding of its properties.",
            "The response includes a mathematical or conceptual representation of the model, a pseudocode snippet, and a description of a visual representation.",
            "The response shows a deep understanding of quantum computing principles, social psychology, and network theory.",
            "The model provides novel insights or predictions about social network dynamics.",
            "The response includes a comparative analysis between the quantum-inspired model and a classical approach.",
            "The response includes a discussion of model limitations and potential ways to address them.",
            "The response includes a discussion of ethical implications and potential real-world applications.",
            "The response follows the specified format, including LaTeX formatting for equations, and adheres to the word limit for each section."
        ]
        return 1.0 if eval_with_llm_judge(instructions, submission, criteria) else 0.0
