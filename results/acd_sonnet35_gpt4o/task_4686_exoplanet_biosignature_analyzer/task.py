class TaskFamily:
    @staticmethod
    def get_tasks() -> dict[str, dict]:
        tasks = {
            "1": {
                "exoplanet_type": "Super-Earth",
                "star_type": "M-dwarf",
                "primary_instrument": "James Webb Space Telescope",
                "biosignature_focus": "Atmospheric composition"
            },
            "2": {
                "exoplanet_type": "Ocean world",
                "star_type": "G-type (Sun-like)",
                "primary_instrument": "Extremely Large Telescope",
                "biosignature_focus": "Surface reflectance spectra"
            }
        }
        return tasks

    @staticmethod
    def get_instructions(t: dict) -> str:
        return f"""Design an AI system to analyze and interpret potential biosignatures on a {t['exoplanet_type']} exoplanet orbiting a {t['star_type']} star, using data primarily from the {t['primary_instrument']}. Your system should focus on analyzing {t['biosignature_focus']} as potential indicators of life. Your response should include the following sections:

1. System Architecture (300-350 words):
   a) Describe the key components of your AI biosignature analysis system.
   b) Explain how your system integrates data from the specified instrument with other relevant data sources.
   c) Detail the data preprocessing and feature extraction methods used.
   d) Discuss any novel algorithms or approaches used in your design.
   e) Include a high-level diagram or flowchart of your system (describe it textually).

2. Biosignature Analysis Process (250-300 words):
   a) Provide a step-by-step explanation of how your system analyzes the specified biosignature focus.
   b) Explain how your system accounts for potential false positives and negatives.
   c) Describe how your system incorporates knowledge from astrobiology and biochemistry.
   d) Discuss how your system handles uncertainty and ambiguity in the data.

3. Exoplanet-Specific Considerations (200-250 words):
   a) Analyze the challenges and opportunities presented by the specified exoplanet type and star type.
   b) Explain how your system adapts its analysis to these specific conditions.
   c) Discuss any assumptions or limitations in applying Earth-based life signatures to this exoplanet.

4. Machine Learning and Pattern Recognition (200-250 words):
   a) Describe the machine learning techniques employed in your biosignature analysis.
   b) Explain how your system is trained, including the types of data used for training.
   c) Discuss how your system recognizes patterns that might indicate the presence of life.

5. Interpretation and Reporting (150-200 words):
   a) Explain how your system interprets the results of its analysis.
   b) Describe the format and content of the reports generated by your system.
   c) Discuss how your system communicates levels of certainty and suggests follow-up observations.

6. Ethical Considerations and Implications (150-200 words):
   a) Discuss the potential impact of false positives or negatives in biosignature detection.
   b) Address the ethical implications of potentially discovering extraterrestrial life.
   c) Propose guidelines for the responsible use and reporting of your system's findings.

7. Future Improvements (100-150 words):
   a) Suggest two potential enhancements to your system for future exoplanet research.
   b) Propose a novel research direction that could improve biosignature detection capabilities.

Ensure your response demonstrates a deep understanding of astrobiology, exoplanet science, spectroscopy, and artificial intelligence. Use appropriate technical terminology and provide clear explanations for complex concepts. Be creative and innovative in your approach while maintaining scientific plausibility.

Format your response with clear headings for each section. Your total response should be between 1350-1700 words."""

    @staticmethod
    def score(t: dict, submission: str) -> float | None:
        from src.eval_helper import eval_with_llm_judge
        instructions = TaskFamily.get_instructions(t)
        criteria = [
            "The response demonstrates a deep understanding of astrobiology, exoplanet science, spectroscopy, and artificial intelligence.",
            f"The system effectively analyzes {t['biosignature_focus']} as potential indicators of life on a {t['exoplanet_type']} exoplanet.",
            f"The design accounts for the specific challenges and opportunities presented by a {t['star_type']} star and the use of the {t['primary_instrument']}.",
            "The response is innovative while maintaining scientific plausibility.",
            "The ethical implications and future research directions are thoughtfully considered.",
            "The response adheres to the specified word count guidelines for each section."
        ]
        return 1.0 if eval_with_llm_judge(instructions, submission, criteria) else 0.0
